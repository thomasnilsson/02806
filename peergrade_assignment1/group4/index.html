<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Project Assignment one</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script type = "text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>


<style>
 body {
    font: 10px sans-serif;
  }
  
.svg {
    vertical-align: middle;
}

p {
    font-size: 14px;
}

  .axis path,
  .axis line {
    fill: none;
    stroke: #000;
    shape-rendering: crispEdges;
  }
  
    .svg {
        margin-left: 25%;
        background-color:azure;
    }

  .bar {
    fill: lightgreen;
  }
  
  .bar:hover {
    fill: green ;
  }
  
  .x.axis path {
    display: none;
  }
  
  .d3-tip {
    line-height: 1;
    font-weight: bold;
    padding: 12px;
    background: rgba(0, 0, 0, 0.8);
    color: #fff;
    border-radius: 2px;
  }
  
  /* Creates a small triangle extender for the tooltip */
  .d3-tip:after {
    box-sizing: border-box;
    display: inline;
    font-size: 10px;
    width: 100%;
    line-height: 1;
    color: rgba(0, 0, 0, 0.8);
    content: "\25BC";
    position: absolute;
    text-align: center;
  }
  
  /* Style northward tooltips differently */
  .d3-tip.n:after {
    margin: -1px 0 0 0;
    top: 100%;
    left: 0;
  }

 .dot {
  stroke: #000;
}

.tooltip {
  position: absolute;
  width: 200px;
  height: 28px;
  pointer-events: none;
}


</style>
</head>
<body>
      <script>
         
        d3.select("body")
        .transition()
        .style("background-color", "lightgray");   
      </script>
    <div class="container">
        <div class="jumbotron">
            <h1>Projekt Assignment one </h1>
        </div>
    </div>
    <div class="container"> 
        <div class="row">    
            <div class="col-6"> 
                <div class="jumbotron">   
                    <h2>Part 1: DAOST Chapter 2 Questions</h2>
                    <P>Q: Explain in your own words the point of the jitter plot. </P>
                    <P>A: Jitter plots can help you find clusters in the data. It helps you to visualize the density of the data and it reduces overplotting. </P>
                    </br>
                    <p>Q: Explain in your own words the point of figure 2-3. (I'm going to skip saying "in your own words" going forward, but I hope you get the point; I expect all answers to be in your own words).</p>
                    <p>A: The point of figure 2-3 is to explain, that a histogram can change appearence depending on how you choose to approach your dataset</p>
                    </br>
                    <p>Q: The author of DAOST (Philipp Janert) likes KDEs (and think they're better than histograms). And I don't. I didn't give a detailed explanation in the video, but now that works to my advantage. I'll ask you guys to think about this and thereby create an excellent exercise: When can KDEs be misleading?</p>
                    <p>A:KDE (Kernel Density Estimates) It is importent to find the appropriate bandwidth. If the value are either to large or small it is not useful. Choosing the wrong bandwhith will resolve in a curve that will be either oversmoothed or undersmoothed. </p>
                    </br>
                    <p>Q: I've discussed some strengths of the CDF - there are also weaknesses. Janert writes "[CDFs] have less intuitive appeal than histograms of KDEs". What does he mean by that?</p>
                    <p>A: He means that the KDE is a good way to get a quick overview of the data.</p>
                    </br>
                    <p>Q: What is a Quantile plot? What is it good for.</p>
                    <p>A:A quantile plot or Q-Q plot is where you plot the quantiles of two distributions up against each other. You use the patterns of the plot to compare the two distributions</p>
                    </br>
                    <p>Q: How is a Probablity plot defined? What is it useful for? Have you ever seen one before?</p>
                    <p>A: probability plot is defined as a graphical technique for comparing two datasets. It is useful for comparing either two sets of empirical observations, or one
                        empirical set against a theoretical set.
                    </p>
                    </br>
                    <p>Q: One of the reasons I like DAOST is that Janert is so suspicious of mean, median, and related summary statistics. Explain why one has to be careful when using those - and why visualization of the full data is always better.</p>
                    <p>A:That is because the median, mean and other statistics don't give the full meaning of the data. Especially not as well as a full visual. </p>
                    </br>
                    <p>Q: I love box plots. When are box plots most useful?</p>
                    <p>A: Box plots are most usefull when you are working with a large amount of data and want to visualize outlier values.</p>
                    </br>
                    <p>Q: The book doesn't mention violin plots. Are those better or worse than box plots? Why?</p>
                    <p>A: I would say violin plots are better than box plots, because violin plot is more informative than box plot. Violin plot shows the full distribution of the data, where 
                        the box plot show you the summery statistics. 
                    </p>
                    </br>
                </div>
            </div>
        <div class="col-6">
            <div class="jumbotron">
                    <h2>Part 2: DAOST Chapter 3 Questions</h2>
                    </br>
                    <p>Q: Looking at Fig 3-1, Janert writes "the data itself shows clearly that the amount of random noise in the data is small". What do you think his argument is?</p>
                    <p>A: He means that the pattern stands out very clearly, and that there isn't any plots standing out.</p>
                    </br>
                    <p>Q: Can you think of a real-world example of a multivariate relationship like the one in Fig 3-3 (lower right panel)?</p>
                    <p>A:</p>
                    </br>
                    <p>Q: What are the two methods Janert metions for smoothing noisy data? Can you think of other ones?</p>
                    <p>A: Janert mentions Weighted Splines and LOESS (Locally weighted regression)</p>
                    </br>
                    <p>Q: What are residuals? Why is it a good idea to plot the residuals of your fit?</p>
                    <p>A: The residual is the difference between the observed value and and the predicted value. It is a good idea to plot the residuals, because it can help you to identify 
                        errors in your messurements.</p>
                    </br>
                    <p>Q: Explain in your own words the point of the smooth tube in figure 3-7.</p>
                    <p>A: I beleave a smooth tube help us difine the level of deviation our dataset.</p>
                    </br>
                    <p>Q: What kind of relationships will a semi-log plot help you discover?</p>
                    <p>A: </p>
                    </br>
                    <p>Q: What kind of functions will loglog plots help you see?</p>
                    <p>A:</p>
                    </br>
                    <p>Q: What the h#ll is banking and what element from our visual system does it use to help us see patterns? What are potential problems with banking?</p>
                    <p>A:</p>
                    </br>
                    <p>Q: I think figure 3-14 makes an important point about linear fits that is rarely made. What is it?</p>
                    <p>A:</p>
                    </br>
                    <p>Q: Summarize the discussion of Graphical Analysis and Presentation Graphics on pp. 68-69 in your own words.</p>
                    <p>A:</p>
                    </br>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
            <div class="jumbotron">
                
                <h1>This is a reproduction of <a class="nav-link" href="http://iquantny.tumblr.com/post/129373499164/this-is-quantifiably-the-best-month-to-go-to-the"> http://iquantny.tumblr.com/post/129373499164/this-is-quantifiably-the-best-month-to-go-to-the</a></h1>
            </div>
    </div>
<div class="container">
    <div class="jumbotron">
        <h2>Part 2: This is Quantifiably the Best Month to go to the Farmers Market</h2>
    </div>
<div class="jumbotron">
    <p>As part of a homework assignment, I ask my students at Pratt to go out and chart something of interest to them, and Katherine Savarese came back with a simple chart about farmers markets that I loved- it inspired this post.</p>
    <br/>
    <p>You probably know that farmers markets are a staple across all five boroughs of New York City, but September happens to be a very special month. Why is that?  Well, it turns out September is the month with the most unique types of fresh produce- forty three to be exact.</p>
    <br/>
    <p>To show the current offerings, we charted how many types of fruits and vegetables are available by month, and showed if they were fresh or from storage. </p>
      
    <p>
            If you miss the month of September, you might be behind the fruit curve, but there are plenty more months of vegetables left.  The chart shows that fresh vegetables are available 9 out of 12 months, but fruit is only available 5 out of 12. Now if only we could quantify how delicious the produce isâ€¦ 
    </p>
    <br/>
    <p>Data from: <a class="nav-link" href=" http://www.grownyc.org/greenmarket/whatsavailable"> http://www.grownyc.org/greenmarket/whatsavailable</a></p>
</div>


  <script>
  
  var margin = {top: 40, right: 20, bottom: 30, left: 40},
      width = 960 - margin.left - margin.right,
      height = 500 - margin.top - margin.bottom;
  
  
  
  var x = d3.scale.ordinal()
      .rangeRoundBands([0, width], .1);
  
  var y = d3.scale.linear()
      .range([height, 0]);
  
  var xAxis = d3.svg.axis()
      .scale(x)
      .orient("bottom");
  
  var yAxis = d3.svg.axis()
      .scale(y)
      .orient("left")
     
  
  var tip = d3.tip()
    .attr('class', 'd3-tip')
    .offset([-10, 0])
    .html(function(d) {
      return "<strong>Produce:</strong> <span style='color:red'>" + d.frequency + "</span>";
    })
  
  var svg = d3.select("body").append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)
      .attr("class", "svg")
    .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
       
  svg.call(tip);
  
  d3.tsv("data.tsv", type, function(error, data) {
    x.domain(data.map(function(d) { return d.letter; }));
    y.domain([0, d3.max(data, function(d) { return d.frequency; })]);
  
    svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")")
        .call(xAxis);
  
    svg.append("g")
        .attr("class", "y axis")
        .call(yAxis)
      .append("text")
        .attr("transform", "rotate(-90)")
        .attr("y", 6)
        .attr("dy", ".71em")
        .style("text-anchor", "end")
        .text("# of Unique Kinds of Produce");
  
    svg.selectAll(".bar")
        .data(data)
        .enter().append("rect")
        .attr("class", "bar")
        .attr("x", function(d) { return x(d.letter); })
        .attr("width", x.rangeBand())
        .attr("y", function(d) { return y(d.frequency); })
        .attr("height", function(d) { return height - y(d.frequency); })
        .on('mouseover', tip.show)
        .on('mouseout', tip.hide)
        
  });

  function type(d) {
    d.frequency = +d.frequency;
    return d;
  };
  
  //Update data section (Called from the onclick)
  function updateData(){
    
      //Get new data
   // d3.tsv("data1.tsv", type, function(error, data) {
   // x.domain(data.map(function(d) { return d.letter; }));
   // y.domain([0, d3.max(data, function(d) { return d.frequency; })]);
      
    // Select the section we want to apply our changes to
    var svg = d3.select("body").transition();    
  
      };
  </script>

</div>


<h1>Part Four: Boston Marathon</h1>
<script src="http://d3js.org/d3.v3.min.js"></script>
<div id=scatter>
        
<script>

var margin = {top: 20, right: 20, bottom: 30, left: 40},
  width = 960 - margin.left - margin.right,
  height = 500 - margin.top - margin.bottom;


// setup x 
var xValue = function(d) { return d.Year;}, 
  xScale = d3.scale.linear().range([0, width]),
  xMap = function(d) { return xScale(xValue(d));},
  xAxis = d3.svg.axis().scale(xScale).orient("bottom");

// setup y
var yValue = function(d) { return d["Minutes"];}, 
  yScale = d3.scale.linear().range([height, 0]), 
  yMap = function(d) { return yScale(yValue(d));}, 
  yAxis = d3.svg.axis().scale(yScale).orient("left");

// setup fill color
var cValue = function(d) { return d.Gender;},
  color = d3.scale.category10();

// add the graph canvas to the body of the webpage
var svg = d3.select("#scatter").append("svg")
  .attr("width", width + margin.left + margin.right)
  .attr("height", height + margin.top + margin.bottom)
.append("g")
  .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
  .style("background-color", "lightgray");

// add the tooltip area to the webpage
var tooltip = d3.select("#scatter").append("div")
  .attr("class", "tooltip")
  .style("opacity", 0);

// load data
d3.csv("BostonFile.csv", function(error, data) {

// change string (from CSV) into number format
data.forEach(function(d) {
  d.Year = +d.Year;
  d["Minutes"] = +d["Minutes"];
//    console.log(d);
});

// don't want dots overlapping axis, so add in buffer to data domain
xScale.domain([d3.min(data, xValue)-1, d3.max(data, xValue)+1]);
yScale.domain([d3.min(data, yValue)-1, d3.max(data, yValue)+1]);

// x-axis
svg.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + height + ")")
    .call(xAxis)
  .append("text")
    .attr("class", "label")
    .attr("x", width)
    .attr("y", -6)
    .style("text-anchor", "end")
    .text("Year");

// y-axis
svg.append("g")
    .attr("class", "y axis")
    .call(yAxis)
  .append("text")
    .attr("class", "label")
    .attr("transform", "rotate(-90)")
    .attr("y", 6)
    .attr("dy", ".71em")
    .style("text-anchor", "end")
    .text("Minutes");

// draw dots
svg.selectAll(".dot")
    .data(data)
  .enter().append("circle")
    .attr("class", "dot")
    .attr("r", 3.5)
    .attr("cx", xMap)
    .attr("cy", yMap)
    .style("fill", function(d) { return color(cValue(d));}) 
    .on("mouseover", function(d) {
        tooltip.transition()
             .duration(200)
             .style("opacity", .9);
        tooltip.html(d["Name"] + "<br/> (" + xValue(d) 
          + ", " + yValue(d) + ")")
             .style("left", (d3.event.pageX + 5) + "px")
             .style("top", (d3.event.pageY - 28) + "px");
    })
    .on("mouseout", function(d) {
        tooltip.transition()
             .duration(500)
             .style("opacity", 0);
    });

// draw legend
var legend = svg.selectAll(".legend")
    .data(color.domain())
  .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 24)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})
});

</script>
</div>
</body>
</html>